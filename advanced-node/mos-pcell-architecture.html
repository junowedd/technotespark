<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MOS PCell Architecture (Cadence SKILL)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="../assets/css/case-studies.css">

<style>
body { max-width:1000px; margin:auto; padding:2rem; }
pre { background:#f6f8fa; padding:1rem; overflow-x:auto; }
code { font-family:Consolas, monospace; }
:target { background:#fff3cd; }
.hover-highlight { background:#ffe9a8; }
.backlink { font-size:0.9rem; margin-top:0.5rem; }

svg a:hover rect {
  stroke:#4c8bf5;
  stroke-width:2.2;
  cursor:pointer;
}
</style>
</head>

<body>

<h1>MOS PCell Architecture (Cadence SKILL)</h1>

<h2 id="architecture-diagram">Architecture Overview (Inline SVG)</h2>

<!-- ===== INLINE ARCHITECTURE SVG ===== -->
<svg width="800" height="420" viewBox="0 0 800 420"
 xmlns="http://www.w3.org/2000/svg"
 font-family="Arial, Helvetica, sans-serif">

<style>
.box { fill:#ffffff; stroke:#333; stroke-width:1.2; rx:10; ry:10; }
.text { font-size:14px; fill:#111; pointer-events:none; }
.arrow { stroke:#333; stroke-width:1.2; marker-end:url(#arrow); }
</style>

<defs>
<marker id="arrow" markerWidth="10" markerHeight="7"
 refX="10" refY="3.5" orient="auto">
 <polygon points="0 0,10 3.5,0 7" fill="#333"/>
</marker>
</defs>

<a href="#derived-geometry"><rect x="200" y="40" width="400" height="60" class="box"/></a>
<text x="400" y="75" text-anchor="middle" class="text">Derived Geometry</text>

<a href="#coordinate-frame"><rect x="200" y="130" width="400" height="60" class="box"/></a>
<text x="400" y="165" text-anchor="middle" class="text">Coordinate Frame</text>

<a href="#contacts"><rect x="200" y="220" width="400" height="60" class="box"/></a>
<text x="400" y="255" text-anchor="middle" class="text">Contact Rows</text>

<a href="#pin-creation"><rect x="200" y="310" width="400" height="60" class="box"/></a>
<text x="400" y="345" text-anchor="middle" class="text">Pin Creation</text>

<line x1="400" y1="100" x2="400" y2="130" class="arrow"/>
<line x1="400" y1="190" x2="400" y2="220" class="arrow"/>
<line x1="400" y1="280" x2="400" y2="310" class="arrow"/>
</svg>

<hr>

<h2 id="derived-geometry">Derived Geometry</h2>

<!-- ===== INLINE GATE / FINGER SVG ===== -->
<svg width="600" height="220" viewBox="0 0 600 220"
 xmlns="http://www.w3.org/2000/svg"
 font-family="Arial, Helvetica, sans-serif">

<style>
.od { fill:#e6f2ff; stroke:#333; }
.poly { fill:#ffd966; stroke:#333; }
</style>

<a href="#dg-3"><rect x="50" y="80" width="500" height="60" class="od"/></a>
<a href="#dg-1"><rect x="170" y="60" width="20" height="100" class="poly"/></a>
<a href="#dg-2"><rect x="300" y="60" width="20" height="100" class="poly"/></a>

</svg>

<pre><code>
<span id="dg-1"></span>(gatePitch (+ l polySpace 2*gateExt))
<span id="dg-2"></span>(activeLen (+ (* nf l) (* (max 0 (- nf 1)) polySpace) (* 2 gateExt)))
<span id="dg-3"></span>(odLen (+ activeLen (* 2 sdExt)))
</code></pre>

<p class="backlink"><a href="#architecture-diagram">â†© Back to diagram</a></p>

<script>
document.querySelectorAll('svg a[href^="#"]').forEach(link => {
  const id = link.getAttribute('href').substring(1);
  link.addEventListener('mouseenter', () => {
    const el = document.getElementById(id);
    if (el) el.classList.add('hover-highlight');
  });
  link.addEventListener('mouseleave', () => {
    const el = document.getElementById(id);
    if (el) el.classList.remove('hover-highlight');
  });
});
</script>

</body>
</html>
